/**
 * @brief Clears all queued descriptor resources for a specific pipeline layout
 * @param queue The VkForge layout queue instance
 * @param pipelineLayout The pipeline layout to clear queue for
 */
void VkForge_ClearDescriptorResourceQueueForForgePipelineLayout(
    VkForgeLayoutQueue *queue,
    VkForgePipelineLayout *pipelineLayout)
{
    assert(queue);
    assert(pipelineLayout);

    uint32_t new_index = 0;
    for (uint32_t i = 0; i < queue->descriptor_resource_queue_count; i++)
    {
        if (queue->descriptor_resource_queue[i].pipeline_layout_index != pipelineLayout->pipeline_layout_index)
        {
            // Keep entries for other pipeline layouts
            if (new_index != i)
            {
                queue->descriptor_resource_queue[new_index] = queue->descriptor_resource_queue[i];
            }
            new_index++;
        }
        // Entries for this pipeline layout are skipped (effectively removed)
    }

    queue->descriptor_resource_queue_count = new_index;
    SDL_Log("Cleared descriptor resource queue for pipeline layout %u", pipelineLayout->pipeline_layout_index);
}